@layer base {
  * {
    box-sizing: border-box;
  }

  :host,
  html {
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
    tab-size: 4;
    font-family: theme('fontFamily.sans');
    font-feature-settings: normal;
    font-variation-settings: normal;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    height: 100dvh;
    background-color: theme('colors.canvas.DEFAULT');
    color: theme('colors.canvas.fg');
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    text-wrap: balance;
  }

  input {
    accent-color: theme('colors.accent.DEFAULT');
  }

  p {
    text-wrap: pretty;
  }

  ::selection {
    background-color: oklch(var(--color-selection));
    color: oklch(var(--color-selection-fg));
  }

  [popover] {
    margin: 0;
    padding: 0;
  }

  [popover],
  dialog,
  ::backdrop {
    transition-property: display, overlay, transform, opacity;
    transition-duration: 250ms;
    transition-behavior: allow-discrete;
    opacity: 0;
  }

  :popover-open,
  :popover-open::backdrop,
  [open],
  [open]::backdrop {
    opacity: 1;
  }

  @starting-style {
    :popover-open,
    :popover-open::backdrop,
    [open],
    [open]::backdrop {
      opacity: 0;
    }
  }

  @media (pointer: fine) {
    * {
      --scrollbar-size: theme('spacing.4');
      --scrollbar-track-color: transparent;
      --scrollbar-thumb-color: color-mix(in oklch, currentColor 15%, transparent);
      --scrollbar-thumb-size: 4px;

      &:hover {
        --scrollbar-thumb-color: color-mix(in oklch, currentColor 30%, transparent);
        --scrollbar-thumb-size: 6px;
      }

      &::-webkit-scrollbar {
        width: var(--scrollbar-size);
        height: var(--scrollbar-size);
        background-color: var(--scrollbar-track-color);
      }

      &::-webkit-scrollbar-corner {
        background-color: var(--scrollbar-track-color);
      }

      &::-webkit-scrollbar-thumb {
        border: calc(calc(var(--scrollbar-size) - var(--scrollbar-thumb-size)) / 2) solid
          transparent;
        border-radius: calc(var(--scrollbar-size) / 2);
        background-color: var(--scrollbar-thumb-color);
        background-clip: content-box;
        transition: all 250ms;
      }
    }
  }
}
