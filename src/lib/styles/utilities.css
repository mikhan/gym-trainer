@layer utilities {
  .dark {
    color-scheme: dark;
  }

  .focusable {
    &:focus-visible,
    &.--focused {
      outline: 2px solid oklch(var(--color-ring));
      outline-offset: -2px;
    }
  }

  .focusable:focus-visible,
  .focusable.--focused,
  .focusable-within:focus-within,
  .focusable-within.--focused {
    outline: 2px solid oklch(var(--color-ring));
    outline-offset: -2px;
  }

  .scrollable-shadow {
    --scrollable-shadow-size: 2rem;
    --scrollable-shadow-color: hsl(0 0 0 / 40%);
    display: grid;
    grid-template-rows: auto 1fr auto;
    align-items: flex-start;

    &::before,
    &::after {
      content: '';
      display: block;
      position: sticky;
      height: var(--scrollable-shadow-size);
      background-color: inherit;
      pointer-events: none;
      margin-block-start: calc(var(--scrollable-shadow-size) * -1);
      animation-timeline: scroll();
      animation-name: scrollable-shadow-fade-in;
      opacity: 0;
      z-index: 1;
    }

    &::before {
      top: 0;
      background-image: radial-gradient(
        farthest-side at top center,
        var(--scrollable-shadow-color) 33%,
        transparent
      );
      mask-image: linear-gradient(to bottom, black, transparent);
    }

    &::after {
      bottom: 0;
      background-image: radial-gradient(
        farthest-side at bottom center,
        var(--scrollable-shadow-color) 33%,
        transparent
      );
      mask-image: linear-gradient(to top, black, transparent);
      animation-direction: reverse;
    }
  }

  @keyframes scrollable-shadow-fade-in {
    0% {
      opacity: 0;
    }
    1% {
      opacity: 1;
    }
    100% {
      opacity: 1;
    }
  }
}
